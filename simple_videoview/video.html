<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
    <title>New HMTL document by NewJect</title>
    <style>
        body div.vid_mask {
            animation: zoomIn 500ms both;
            display: block;
            width: 100%;
            height: 100%;
            position: fixed;
            top: 0;
            left: 0;
            background: rgba(98, 98, 98, 0.51);
        }

        body div.vid_mask .vid_content {
            position: absolute;
            left: 50%;
            top: 50%;
            width: 1024px;
            height: 768px;
            transform: translate(-50%, -50%);
            background: #000;
        }

        body div.vid_mask .vid_content svg {
            width: 100%;
            height: 100%;
        }

        body div.vid_mask .vid_content .svg_icon {
            position: absolute;
            top: 50%;
            left: 50%;
            margin: -52px 0 0 -52px;
            height: 104px;
            width: 104px;
            padding: 12px;
            box-sizing: border-box;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
            pointer-events: none;
        }

        body div.vid_mask .vid_content .svg_mask {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            transition: opacity .5s;
            opacity: 1;
            background: rgba(117, 117, 117, 0.41);

        }

        body div.vid_mask .vid_close {
            position: absolute;
            right: -1rem;
            top: -1rem;
            text-align: center;
            width: 4rem;
            height: 4rem;
            border-radius: 50%;
            background: #333;
        }

        body div.vid_mask .vid_content video {
            width: 100%;
            height: 100%;
        }

        body div.vid_mask .vid_close:before {
            content: "X";
            font-size: 1rem;
            position: absolute;
            left: 1.5rem;
            bottom: 1rem;
            transform: scale(1.25, 1);
            color: #fff;
        }

        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale3d(0.3, 0.3, 0.3);
            }

            50% {
                opacity: 1;
            }
        }
    </style>
</head>

<body>

    <div>
        <h3>this is new html document generated by newject extention</h3>
        <div class="vbox" style="width: 300px;width: 200px;">
            <video src="./3.mp4" style="width: 100%;height: 100%;"></video>
        </div>
    </div>


<!--
    <div class="vid_mask">
        <div class="vid_close"></div>
        <div class="vid_content">
           <video src="./3.mp4"></video>
           <div class="rotate" style="background: #a42e2e;width: 50px;height: 50px;position: absolute;top: -25px;right: -25px;"></div>
            <div class="svg_mask" style="opacity: 1;">
                <div class="svg_icon"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 32">
                        <path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path>
                    </svg></div>
            </div>
        </div>
    </div>
-->





    <script>
//        document.querySelector(".rotate").onclick=function(){
//            document.querySelector("video").style.transform = "rotate(90deg)";
//        }
        
        
        
        
        // 创建播放器控件
        function crt_vidbox() {
            // get video url.
            if ($(this).is("video")) {
                var video_url = $(this).attr("src");
            } else {
                var video_url = $(this).find("video").attr("src");
            }

            var paly_svg = '<div class="svg_mask"><div class="svg_icon"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 32"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg></div></div>';
            var btn_rotate ='<div class="btn_rotate" rotate-data="0" style="position: absolute;right: 0;top: 50%;text-align: center;padding: .5rem .25rem;cursor: pointer;">旋转</div>';
            var vid_box = $("<div></div>").addClass("vid_mask").html('<div class="vid_close"></div>' + btn_rotate + '<div class="vid_content"><div><video></video>'  + paly_svg + '</div></div>');
            vid_box.find(".vid_close").click(function() {
                $(".vid_mask").remove();
            });
            vid_box.find(".vid_content .svg_mask").click(function() {
                if ($(".vid_content video")[0].paused) {
                    $(".vid_content video")[0].play();
                    $(this).css("opacity", 0);
                } else {
                    $(".vid_content video")[0].pause();
                    $(this).css("opacity", 1);
                }
            });
            
            vid_box.find(".btn_rotate").click(function() {
                $(this).attr("rotate-data",Number($(this).attr("rotate-data"))+1);
                var rotate = (Number($(this).attr("rotate-data")))*90;
                $(".vid_content").css("transform","translate(-50%, -50%) rotate(" + rotate + "deg)");
            });
            vid_box.find(".vid_content video")[0].onended = function() {
                $(".vid_content .svg_mask").css("opacity", 1);
            }
            vid_box.find(".vid_content video").attr("src", video_url);
            $("body").append(vid_box);
        }
        document.querySelector(".vbox").onclick = crt_vidbox;
    </script>
</body>
</html>
 

 
 
 
